import{f as b,o as d,c as u,a as r,F as v,q as $,i as n,h as k,k as N,b as i,m as h,p as _,g as B,w,d as T,t as f,j as z,s as D,A as P}from"./BJUyEi7U.js";import{_ as U,a as y}from"./TCbTYIN0.js";import{a as G,s as H}from"./qhOtPnIg.js";import{a as l}from"./CUvU4tPK.js";import I from"./Cp0YWVTz.js";const R={class:"flex gap-2 px-3"},V={class:"flex items-center gap-1"},M=b({__name:"im-toolbar",props:{data:{}},setup(c){return(o,a)=>{const p=h,m=U,s=y;return d(),u("div",R,[r("div",V,[(d(!0),u(v,null,$("stepActions"in o?o.stepActions:n(G),e=>(d(),u(v,null,[("alfred"in o?o.alfred:n(l)).support(e.name,o.data)?(d(),k(p,{key:0,icon:e.icon,color:e.color,size:"2xs",variant:"solid",square:"",tooltip:e.tooltip,disabled:!("alfred"in o?o.alfred:n(l)).can(e.name),onPointerdown:g=>("alfred"in o?o.alfred:n(l)).functions[e.name](o.data)},null,8,["icon","color","tooltip","disabled","onPointerdown"])):N("",!0)],64))),256))]),a[1]||(a[1]=r("div",{class:"m-1 border-r"},null,-1)),i(m,{data:o.data},null,8,["data"]),a[2]||(a[2]=r("div",{class:"m-1 border-r"},null,-1)),i(s,{nouser:"",class:"my-1",data:o.data},null,8,["data"]),a[3]||(a[3]=r("div",{class:"m-1 border-r"},null,-1)),i(p,{class:"my-1",icon:"i-carbon/archive",size:"2xs",color:"red",variant:"outline",square:"",tooltip:o.t.archive,disabled:!("alfred"in o?o.alfred:n(l)).can("run_archive"),onPointerdown:a[0]||(a[0]=e=>("alfred"in o?o.alfred:n(l)).functions.run_archive(o.data))},null,8,["tooltip","disabled"])])}}}),q={class:"group relative flex h-[28px] w-[200px] items-center gap-1"},E=["tooltip"],L=["tooltip"],J=b({__name:"im-status",props:{data:{}},setup(c){const o=c,a=_(()=>{const s=o.data;if(s)return{LOW:{color:"green"},STANDARD:{show:!1},HIGH:{color:"red"},URGENT:{color:"red",class:"before:absolute after:absolute after:right-[-4px] after:top-[-4px] after:h-2 after:w-2 after:animate-ping after:rounded-full after:bg-red-400"}}[s.priority]}),p=_(()=>{const s=o.data;if(s)return{LOW:" - "+t.p0,STANDARD:"",HIGH:" - "+t.p2,URGENT:" - "+t.p3}[s.priority]}),{app:m}=B();return(s,e)=>{const g=h,A=I,C=y;return d(),u("div",q,[i(g,{to:`/${n(m)}/run/${s.data.id}`,variant:"link",color:"stone",size:"xs",onPointerdown:e[0]||(e[0]=z(()=>{},["stop"]))},{default:w(()=>[T(f(s.t.details),1)]),_:1},8,["to"]),r("div",{class:"text-end text-xs",tooltip:s.data.workflow.steps[s.data.logs[0].stepId-1].name},f(s.data.logs[0].stepId)+"/"+f(s.data.workflow.steps.length),9,E),i(A,P({size:"xs"},n(a)),{default:w(()=>[r("div",{class:D(["h-3.5 w-3.5 flex-none rounded-sm",("statusClasses"in s?s.statusClasses:n(H))[s.data.logs[0].status].bg]),tooltip:s.data.logs[0].status+n(p)},null,10,L)]),_:1},16),i(C,{noselect:"",data:s.data},null,8,["data"])])}}});export{M as _,J as a};
